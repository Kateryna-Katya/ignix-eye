{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  // 1. Инициализация иконок\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // 2. Плавный скролл (Lenis)\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      direction: 'vertical',\n      smooth: true\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // 3. Меню (Mobile Burger)\n  const burger = document.querySelector('.header__burger');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n  const toggleMenu = () => {\n      mobileMenu.classList.toggle('is-active');\n      burger.classList.toggle('is-active');\n\n      const lines = burger.querySelectorAll('.header__burger-line');\n      if (mobileMenu.classList.contains('is-active')) {\n          lines[0].style.transform = 'rotate(45deg) translate(5px, 5px)';\n          lines[1].style.transform = 'rotate(-45deg) translate(5px, -5px)';\n      } else {\n          lines[0].style.transform = 'none';\n          lines[1].style.transform = 'none';\n      }\n  };\n\n  burger.addEventListener('click', toggleMenu);\n  mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));\n\n  // 4. Header Background on Scroll\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.style.background = 'rgba(11, 12, 16, 0.95)';\n          header.style.boxShadow = '0 4px 20px rgba(0,0,0,0.3)';\n      } else {\n          header.style.background = 'rgba(11, 12, 16, 0.85)';\n          header.style.boxShadow = 'none';\n      }\n  });\n\n  // 5. GSAP Анимации\n  gsap.registerPlugin(ScrollTrigger);\n\n  // Анимация текста (SplitType)\n  const splitTypes = document.querySelectorAll('.reveal-text');\n\n  splitTypes.forEach((char, i) => {\n      const text = new SplitType(char, { types: 'chars' });\n\n      gsap.from(text.chars, {\n          scrollTrigger: {\n              trigger: char,\n              start: 'top 80%',\n              toggleActions: 'play none none reverse'\n          },\n          y: 50,\n          opacity: 0,\n          stagger: 0.05,\n          duration: 0.8,\n          ease: 'back.out(1.7)'\n      });\n  });\n\n  // Fade In (простое появление)\n  gsap.utils.toArray('.fade-in').forEach(element => {\n      gsap.from(element, {\n          scrollTrigger: {\n              trigger: element,\n              start: 'top 85%',\n              toggleActions: 'play none none reverse'\n          },\n          y: 30,\n          opacity: 0,\n          duration: 1,\n          ease: 'power3.out'\n      });\n  });\n\n  // Fade In Up (для карточек с задержкой)\n  gsap.utils.toArray('.fade-in-up').forEach(element => {\n      const delay = element.getAttribute('data-delay') || 0;\n      gsap.from(element, {\n          scrollTrigger: {\n              trigger: element,\n              start: 'top 90%',\n              toggleActions: 'play none none reverse'\n          },\n          y: 50,\n          opacity: 0,\n          duration: 0.8,\n          delay: delay,\n          ease: 'power2.out'\n      });\n  });\n\n  // 6. Форма Контактов (Валидация + Капча)\n  const form = document.getElementById('consultationForm');\n  const phoneInput = document.getElementById('phone');\n  const captchaTask = document.getElementById('captcha-task');\n  const captchaInput = document.getElementById('captcha-input');\n  const captchaError = document.getElementById('captcha-error');\n  const formStatus = document.getElementById('formStatus');\n\n  // Разрешаем только цифры в телефоне\n  phoneInput.addEventListener('input', (e) => {\n      e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n  });\n\n  // Генерация мат. капчи\n  let num1, num2, captchaResult;\n  function generateCaptcha() {\n      num1 = Math.floor(Math.random() * 10) + 1;\n      num2 = Math.floor(Math.random() * 10) + 1;\n      captchaResult = num1 + num2;\n      captchaTask.textContent = `${num1} + ${num2} = ?`;\n      captchaInput.value = ''; // очистка\n  }\n  generateCaptcha();\n\n  // Обработка отправки\n  form.addEventListener('submit', (e) => {\n      e.preventDefault();\n      let isValid = true;\n\n      // Простая валидация полей\n      const inputs = form.querySelectorAll('input[required]');\n      inputs.forEach(input => {\n          const group = input.closest('.form-group');\n          if (!input.value.trim()) {\n              if (group) group.classList.add('error');\n              isValid = false;\n          } else {\n              if (group) group.classList.remove('error');\n          }\n      });\n\n      // Проверка капчи\n      const userCaptcha = parseInt(captchaInput.value);\n      const captchaGroup = captchaInput.closest('.form-group');\n\n      if (userCaptcha !== captchaResult) {\n          captchaGroup.classList.add('error');\n          captchaError.style.display = 'block';\n          isValid = false;\n      } else {\n          captchaGroup.classList.remove('error');\n          captchaError.style.display = 'none';\n      }\n\n      if (isValid) {\n          // Имитация AJAX\n          const btn = form.querySelector('button[type=\"submit\"]');\n          const originalBtnText = btn.textContent;\n\n          btn.textContent = 'Отправка...';\n          btn.disabled = true;\n\n          setTimeout(() => {\n              form.style.display = 'none';\n              formStatus.style.display = 'flex';\n              // Скролл к сообщению\n              formStatus.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          }, 1500);\n      }\n  });\n\n  // 7. Cookie Popup\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookies');\n\n  // Проверка localStorage\n  if (!localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('show');\n      }, 2000);\n  }\n\n  acceptBtn.addEventListener('click', () => {\n      localStorage.setItem('cookiesAccepted', 'true');\n      cookiePopup.classList.remove('show');\n  });\n});"],"names":["lenis","t","raf","time","burger","mobileMenu","mobileLinks","toggleMenu","lines","link","header","char","i","text","element","delay","form","phoneInput","captchaTask","captchaInput","captchaError","formStatus","num1","num2","captchaResult","generateCaptcha","isValid","input","group","userCaptcha","captchaGroup","btn","cookiePopup","acceptBtn"],"mappings":"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"}